{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useLocation}from'react-router-dom';import'../styles/Cart.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function Cart(){const[cartItems,setCartItems]=useState(()=>{// Retrieve cart items from localStorage if available\nconst savedCart=localStorage.getItem('cart');return savedCart?JSON.parse(savedCart):[];});const location=useLocation();useEffect(()=>{var _location$state;const newItem=(_location$state=location.state)===null||_location$state===void 0?void 0:_location$state.item;if(newItem){setCartItems(prevItems=>{const updatedCart=[...prevItems,newItem];localStorage.setItem('cart',JSON.stringify(updatedCart));return updatedCart;});// Clear location.state after processing\nwindow.history.replaceState({},document.title);}},[location.state]);// Only re-run if location.state changes\nconst removeItemFromCart=index=>{setCartItems(prevItems=>{const updatedCart=prevItems.filter((_,i)=>i!==index);// Update localStorage with the new cart state\nlocalStorage.setItem('cart',JSON.stringify(updatedCart));return updatedCart;});};// Calculate the total price\nconst totalPrice=cartItems.reduce((total,item)=>{const price=parseFloat(item.price);if(!isNaN(price)){return total+price;}return total;},0);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Shopping Cart\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"cart\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"cart-table\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"cart-table-header\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Item\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Price\"}),/*#__PURE__*/_jsx(\"span\",{children:\" \"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"cart-table-body\",children:cartItems.length>0?cartItems.map((item,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"cart-table-row\",children:[/*#__PURE__*/_jsx(\"span\",{children:item.name}),/*#__PURE__*/_jsxs(\"span\",{children:[\"$\",item.price]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>removeItemFromCart(index),children:\"Remove\"})]},index)):/*#__PURE__*/_jsx(\"p\",{children:\"Your cart is empty!\"})})]}),cartItems.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"total\",children:/*#__PURE__*/_jsxs(\"h3\",{children:[\"Total: $\",totalPrice.toFixed(2)]})})]})]})});}export default Cart;","map":{"version":3,"names":["React","useState","useEffect","useLocation","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Cart","cartItems","setCartItems","savedCart","localStorage","getItem","JSON","parse","location","_location$state","newItem","state","item","prevItems","updatedCart","setItem","stringify","window","history","replaceState","document","title","removeItemFromCart","index","filter","_","i","totalPrice","reduce","total","price","parseFloat","isNaN","children","className","length","map","name","onClick","toFixed"],"sources":["/Users/tasneemmahmud/Desktop/Jaanutuni/src/components/Cart.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport '../styles/Cart.css';\n\nfunction Cart() {\n  const [cartItems, setCartItems] = useState(() => {\n    // Retrieve cart items from localStorage if available\n    const savedCart = localStorage.getItem('cart');\n    return savedCart ? JSON.parse(savedCart) : [];\n  });\n\n  const location = useLocation();\n\n  useEffect(() => {\n    const newItem = location.state?.item;\n  \n    if (newItem) {\n      setCartItems((prevItems) => {\n        const updatedCart = [...prevItems, newItem];\n        localStorage.setItem('cart', JSON.stringify(updatedCart));\n        return updatedCart;\n      });\n  \n      // Clear location.state after processing\n      window.history.replaceState({}, document.title);\n    }\n  }, [location.state]);\n    // Only re-run if location.state changes\n\n  const removeItemFromCart = (index) => {\n    setCartItems((prevItems) => {\n      const updatedCart = prevItems.filter((_, i) => i !== index);\n      // Update localStorage with the new cart state\n      localStorage.setItem('cart', JSON.stringify(updatedCart));\n      return updatedCart;\n    });\n  };\n\n  // Calculate the total price\n  const totalPrice = cartItems.reduce((total, item) => {\n    const price = parseFloat(item.price);\n    if (!isNaN(price)) {\n      return total + price;\n    }\n    return total;\n  }, 0);\n\n  return (\n    <>\n    <div className=\"container\">\n    <h1>Shopping Cart</h1>\n    <div className=\"cart\">\n      \n      <div className=\"cart-table\">\n        <div className=\"cart-table-header\">\n          <span>Item</span>\n          <span>Price</span>\n          <span> </span>\n        </div>\n        <div className=\"cart-table-body\">\n          {cartItems.length > 0 ? (\n            cartItems.map((item, index) => (\n              <div key={index} className=\"cart-table-row\">\n                <span>{item.name}</span>\n                <span>${item.price}</span>\n                <button onClick={() => removeItemFromCart(index)}>Remove</button>\n              </div>\n            ))\n          ) : (\n            <p>Your cart is empty!</p>\n          )}\n        </div>\n      </div>\n      {cartItems.length > 0 && (\n        <div className=\"total\">\n          <h3>Total: ${totalPrice.toFixed(2)}</h3>\n        </div>\n      )}\n    </div>\n    </div>\n    </>\n  );\n}\n\nexport default Cart;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}