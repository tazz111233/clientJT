{"ast":null,"code":"import React,{useEffect,useState}from'react';import{Link,useNavigate}from'react-router-dom';import{FaBars,FaTimes}from'react-icons/fa';// Import icons\nimport'../styles/Navbar.css';import image1 from'../img/logo.png';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Navbar(){const navigate=useNavigate();const[role,setRole]=useState(null);const[menuOpen,setMenuOpen]=useState(false);// State for mobile menu\nconst isLoggedIn=localStorage.getItem('username');useEffect(()=>{const fetchUserRole=async()=>{if(isLoggedIn){try{const response=await fetch('https://backendjt-1.onrender.com/get-role',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({username:isLoggedIn})});const data=await response.json();if(response.ok){setRole(data.role);}else{console.error(data.error||'Failed to fetch role');}}catch(error){console.error('Error fetching role:',error);}}};fetchUserRole();},[isLoggedIn]);const handleLogout=()=>{localStorage.removeItem('username');setRole(null);navigate('/');};return/*#__PURE__*/_jsxs(\"nav\",{className:\"navbar\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"logo\",children:/*#__PURE__*/_jsx(\"img\",{src:image1,alt:\"Logo\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"menu-icon\",onClick:()=>setMenuOpen(!menuOpen),children:menuOpen?/*#__PURE__*/_jsx(FaTimes,{}):/*#__PURE__*/_jsx(FaBars,{})}),/*#__PURE__*/_jsxs(\"ul\",{className:menuOpen?\"nav-links open\":\"nav-links\",children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/home\",onClick:()=>setMenuOpen(false),children:\"Home\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/shop\",onClick:()=>setMenuOpen(false),children:\"Shop\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/about\",onClick:()=>setMenuOpen(false),children:\"About\"})}),isLoggedIn&&/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/profile\",onClick:()=>setMenuOpen(false),children:\"Profile\"})}),role==='admin'&&/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/addproduct\",onClick:()=>setMenuOpen(false),children:\"Add Product\"})}),role==='admin'&&/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/discount\",onClick:()=>setMenuOpen(false),children:\"DiscountCodes\"})}),isLoggedIn&&/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:handleLogout,className:\"logout-button\",children:\"Logout\"})})]})]});}export default Navbar;","map":{"version":3,"names":["React","useEffect","useState","Link","useNavigate","FaBars","FaTimes","image1","jsx","_jsx","jsxs","_jsxs","Navbar","navigate","role","setRole","menuOpen","setMenuOpen","isLoggedIn","localStorage","getItem","fetchUserRole","response","fetch","method","headers","body","JSON","stringify","username","data","json","ok","console","error","handleLogout","removeItem","className","children","src","alt","onClick","to"],"sources":["/Users/tasneemmahmud/Desktop/clientJT/src/components/Navbar.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { FaBars, FaTimes } from 'react-icons/fa'; // Import icons\nimport '../styles/Navbar.css';\nimport image1 from '../img/logo.png';\n\nfunction Navbar() {\n  const navigate = useNavigate();\n  const [role, setRole] = useState(null);\n  const [menuOpen, setMenuOpen] = useState(false); // State for mobile menu\n  const isLoggedIn = localStorage.getItem('username');\n\n  useEffect(() => {\n    const fetchUserRole = async () => {\n      if (isLoggedIn) {\n        try {\n          const response = await fetch('https://backendjt-1.onrender.com/get-role', {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify({ username: isLoggedIn }),\n          });\n          const data = await response.json();\n          if (response.ok) {\n            setRole(data.role);\n          } else {\n            console.error(data.error || 'Failed to fetch role');\n          }\n        } catch (error) {\n          console.error('Error fetching role:', error);\n        }\n      }\n    };\n\n    fetchUserRole();\n  }, [isLoggedIn]);\n\n  const handleLogout = () => {\n    localStorage.removeItem('username');\n    setRole(null);\n    navigate('/');\n  };\n\n  return (\n    <nav className=\"navbar\">\n      <div className=\"logo\">\n        <img src={image1} alt=\"Logo\" />\n      </div>\n      <div className=\"menu-icon\" onClick={() => setMenuOpen(!menuOpen)}>\n        {menuOpen ? <FaTimes /> : <FaBars />}\n      </div>\n      <ul className={menuOpen ? \"nav-links open\" : \"nav-links\"}>\n        <li><Link to=\"/home\" onClick={() => setMenuOpen(false)}>Home</Link></li>\n        <li><Link to=\"/shop\" onClick={() => setMenuOpen(false)}>Shop</Link></li>\n        <li><Link to=\"/about\" onClick={() => setMenuOpen(false)}>About</Link></li>\n        {isLoggedIn && <li><Link to=\"/profile\" onClick={() => setMenuOpen(false)}>Profile</Link></li>}\n        {role === 'admin' && <li><Link to=\"/addproduct\" onClick={() => setMenuOpen(false)}>Add Product</Link></li>}\n        {role === 'admin' && <li><Link to=\"/discount\" onClick={() => setMenuOpen(false)}>DiscountCodes</Link></li>}\n        {isLoggedIn && (\n          <li>\n            <button onClick={handleLogout} className=\"logout-button\">Logout</button>\n          </li>\n        )}\n      </ul>\n    </nav>\n  );\n}\n\nexport default Navbar;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,IAAI,CAAEC,WAAW,KAAQ,kBAAkB,CACpD,OAASC,MAAM,CAAEC,OAAO,KAAQ,gBAAgB,CAAE;AAClD,MAAO,sBAAsB,CAC7B,MAAO,CAAAC,MAAM,KAAM,iBAAiB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAErC,QAAS,CAAAC,MAAMA,CAAA,CAAG,CAChB,KAAM,CAAAC,QAAQ,CAAGT,WAAW,CAAC,CAAC,CAC9B,KAAM,CAACU,IAAI,CAAEC,OAAO,CAAC,CAAGb,QAAQ,CAAC,IAAI,CAAC,CACtC,KAAM,CAACc,QAAQ,CAAEC,WAAW,CAAC,CAAGf,QAAQ,CAAC,KAAK,CAAC,CAAE;AACjD,KAAM,CAAAgB,UAAU,CAAGC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC,CAEnDnB,SAAS,CAAC,IAAM,CACd,KAAM,CAAAoB,aAAa,CAAG,KAAAA,CAAA,GAAY,CAChC,GAAIH,UAAU,CAAE,CACd,GAAI,CACF,KAAM,CAAAI,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,2CAA2C,CAAE,CACxEC,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CAAE,cAAc,CAAE,kBAAmB,CAAC,CAC/CC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CAAEC,QAAQ,CAAEX,UAAW,CAAC,CAC/C,CAAC,CAAC,CACF,KAAM,CAAAY,IAAI,CAAG,KAAM,CAAAR,QAAQ,CAACS,IAAI,CAAC,CAAC,CAClC,GAAIT,QAAQ,CAACU,EAAE,CAAE,CACfjB,OAAO,CAACe,IAAI,CAAChB,IAAI,CAAC,CACpB,CAAC,IAAM,CACLmB,OAAO,CAACC,KAAK,CAACJ,IAAI,CAACI,KAAK,EAAI,sBAAsB,CAAC,CACrD,CACF,CAAE,MAAOA,KAAK,CAAE,CACdD,OAAO,CAACC,KAAK,CAAC,sBAAsB,CAAEA,KAAK,CAAC,CAC9C,CACF,CACF,CAAC,CAEDb,aAAa,CAAC,CAAC,CACjB,CAAC,CAAE,CAACH,UAAU,CAAC,CAAC,CAEhB,KAAM,CAAAiB,YAAY,CAAGA,CAAA,GAAM,CACzBhB,YAAY,CAACiB,UAAU,CAAC,UAAU,CAAC,CACnCrB,OAAO,CAAC,IAAI,CAAC,CACbF,QAAQ,CAAC,GAAG,CAAC,CACf,CAAC,CAED,mBACEF,KAAA,QAAK0B,SAAS,CAAC,QAAQ,CAAAC,QAAA,eACrB7B,IAAA,QAAK4B,SAAS,CAAC,MAAM,CAAAC,QAAA,cACnB7B,IAAA,QAAK8B,GAAG,CAAEhC,MAAO,CAACiC,GAAG,CAAC,MAAM,CAAE,CAAC,CAC5B,CAAC,cACN/B,IAAA,QAAK4B,SAAS,CAAC,WAAW,CAACI,OAAO,CAAEA,CAAA,GAAMxB,WAAW,CAAC,CAACD,QAAQ,CAAE,CAAAsB,QAAA,CAC9DtB,QAAQ,cAAGP,IAAA,CAACH,OAAO,GAAE,CAAC,cAAGG,IAAA,CAACJ,MAAM,GAAE,CAAC,CACjC,CAAC,cACNM,KAAA,OAAI0B,SAAS,CAAErB,QAAQ,CAAG,gBAAgB,CAAG,WAAY,CAAAsB,QAAA,eACvD7B,IAAA,OAAA6B,QAAA,cAAI7B,IAAA,CAACN,IAAI,EAACuC,EAAE,CAAC,OAAO,CAACD,OAAO,CAAEA,CAAA,GAAMxB,WAAW,CAAC,KAAK,CAAE,CAAAqB,QAAA,CAAC,MAAI,CAAM,CAAC,CAAI,CAAC,cACxE7B,IAAA,OAAA6B,QAAA,cAAI7B,IAAA,CAACN,IAAI,EAACuC,EAAE,CAAC,OAAO,CAACD,OAAO,CAAEA,CAAA,GAAMxB,WAAW,CAAC,KAAK,CAAE,CAAAqB,QAAA,CAAC,MAAI,CAAM,CAAC,CAAI,CAAC,cACxE7B,IAAA,OAAA6B,QAAA,cAAI7B,IAAA,CAACN,IAAI,EAACuC,EAAE,CAAC,QAAQ,CAACD,OAAO,CAAEA,CAAA,GAAMxB,WAAW,CAAC,KAAK,CAAE,CAAAqB,QAAA,CAAC,OAAK,CAAM,CAAC,CAAI,CAAC,CACzEpB,UAAU,eAAIT,IAAA,OAAA6B,QAAA,cAAI7B,IAAA,CAACN,IAAI,EAACuC,EAAE,CAAC,UAAU,CAACD,OAAO,CAAEA,CAAA,GAAMxB,WAAW,CAAC,KAAK,CAAE,CAAAqB,QAAA,CAAC,SAAO,CAAM,CAAC,CAAI,CAAC,CAC5FxB,IAAI,GAAK,OAAO,eAAIL,IAAA,OAAA6B,QAAA,cAAI7B,IAAA,CAACN,IAAI,EAACuC,EAAE,CAAC,aAAa,CAACD,OAAO,CAAEA,CAAA,GAAMxB,WAAW,CAAC,KAAK,CAAE,CAAAqB,QAAA,CAAC,aAAW,CAAM,CAAC,CAAI,CAAC,CACzGxB,IAAI,GAAK,OAAO,eAAIL,IAAA,OAAA6B,QAAA,cAAI7B,IAAA,CAACN,IAAI,EAACuC,EAAE,CAAC,WAAW,CAACD,OAAO,CAAEA,CAAA,GAAMxB,WAAW,CAAC,KAAK,CAAE,CAAAqB,QAAA,CAAC,eAAa,CAAM,CAAC,CAAI,CAAC,CACzGpB,UAAU,eACTT,IAAA,OAAA6B,QAAA,cACE7B,IAAA,WAAQgC,OAAO,CAAEN,YAAa,CAACE,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAC,QAAM,CAAQ,CAAC,CACtE,CACL,EACC,CAAC,EACF,CAAC,CAEV,CAEA,cAAe,CAAA1B,MAAM","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}